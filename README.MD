# Task1:
#### Для установки требуеться:
* Установить зависимости через pip install requirements.txt
* Добавить credentials в /home/$USER/.aws папку
* Добавть в бакет файла 'album_list' с содержимым '{}'
* Указать в 9 строке имя бакета

#### Запуск:
 * python cloudphoto.py + команды + флаги


<hr>


# Task2:
## Установка:
##### Создать Функцию и указать переменные среды:
* QUEUE_URL
* API_KEY - для доступа к распознованию лиц
* AWS_ACCESS_KEY_ID
* AWS_SECRET_ACCESS_KEY
* AWS_DEFAULT_REGION: 'ru-central1'
##### Указать в функции точку входа:
'main.handler'
##### Переместить файлы из папки 'task2' в функцию
##### Создать тригер:
* Указать созданную функцию как результат действия
* Действие: Создание объекта
##### Создать очередь
* Указать в переменный среды URL для QUEUE у Облачной функции
### Тестирование:
Загрузка файла в формате 'folder/name.jpg' 
## Результат тестирования:
Внутри папки 'folder' будет созданы папки 'unrecognized' и 'recognized'
Внутри папки 'unrecognized' будут созданы папки с именами файлов
Внутри папок с именами файлов бедет созданы файлы обрезанных лиц
где имена - индексы.

<hr>

# Task3:
## Установка:
##### Создать Функции:
2 Функции: bot-1.py и bot-2.py. Для обоих функций общий requirements.txt
##### Указать переменные среды:
* BUCKET_NAME
* TELEGRAM_URL
* CHAT_ID - id чата с ботом в телеграме
* AWS_ACCESS_KEY_ID
* AWS_SECRET_ACCESS_KEY
* AWS_DEFAULT_REGION: 'ru-central1'
##### Указать в функциях точку входа:
'main.handler'
##### Создать бакет:
Бакет сделать публичным
##### Создать очередь:
В ней будут передаваться сообщения, в которых будет лежать путь в бакете к распозаному лицу. Оно имеет вид "<album>/unrecognized/<photo_file_name>/<face_photo_name>".
##### Создать тригер:
Тригер на очередь сообщений, который передает сообщения в функцию bot-1.
##### Создать WebHook:
Создания WebHook для функции bot-2
### Тестирование:
1. Заливка в бакет фото с именами "<folder_name>/<image_name>", где <folder_name> - название папки альбома(Задание №1), а <image_name> - Имя файла
2. Заливка в бакет фото с именами "<folder_name>/unrecognized/<photo_file_name>/<face_photo_name>", где <photo_file_name> - название файла из пункта №1, а <face_photo_name> - Имя файла c распознанным лицом. 
3. Отправка в очередь сообщения вида "<folder_name>/unrecognized/<photo_file_name>/<face_photo_name>" для каждого распознанного лица
4. Получение сообщения в телеграме от бота с предложением указать имя.
5. Указание имени через ответ.
6. Выполнение команды "/find <Name>", где <Name> - имя, указанное на этапе №5
7. Получение списка фото
8. PROFIT
